import{_ as l,a as u,o as d,c,b as o,e as m,i as p,j as y,t as h,h as w}from"./index-423b4fec.js";const b={name:"AnswerEditor",props:{uuid:{type:String,required:!0}},data(){return{questionSlug:null,answerBody:null,error:null}},methods:{async onSubmit(){if(!this.answerBody){this.error="You can't submit an empty answer";return}const r=`/api/v1/answers/${this.uuid}/`;try{await u.put(r,{body:this.answerBody}),this.$router.push({name:"question",params:{slug:this.questionSlug}})}catch(s){this.error=s.response.statusText}}},async beforeRouteEnter(r,s,a){const i=`/api/v1/answers/${r.params.uuid}/`;try{const t=await u.get(i);return a(e=>(e.answerBody=t.data.body,e.questionSlug=t.data.question_slug))}catch(t){console.log(t)}}},_={class:"container mt-2"},f=o("h1",{class:"mb-3"},"Edit your answer",-1),g=o("button",{type:"submit",class:"btn btn-success mt-3"},"Publish",-1),B={key:0,class:"muted mt-2"};function S(r,s,a,i,t,e){return d(),c("div",_,[f,o("form",{onSubmit:s[1]||(s[1]=y((...n)=>e.onSubmit&&e.onSubmit(...n),["prevent"]))},[m(o("textarea",{"onUpdate:modelValue":s[0]||(s[0]=n=>t.answerBody=n),class:"form-control",rows:"10"},null,512),[[p,t.answerBody]]),g],32),t.error?(d(),c("p",B,h(t.error),1)):w("",!0)])}const q=l(b,[["render",S]]);export{q as default};
